{% extends "base.html" %}

{# [신규] 리스트 페이지 전용의 심플 헤더 #}
{% block header %}
<div class="fixed-top-area" style="backdrop-filter: none; background: white;">
    <header class="main-header" style="justify-content: center; height: 80px;">
        <a href="/" class="logo"><img src="/static/img/logo.png" alt="JP Campus Logo" class="logo-img"></a>
    </header>
</div>
{% endblock %}


{% block content %}
<main class="content-wrapper" style="margin-top: 120px;"> {# 헤더 높이에 맞게 상단 여백 조정 #}
    
    <div style="margin-bottom: 40px;">
        <h1 style="font-size: 2.5rem; font-weight: 800; margin-bottom: 10px;">{{ title }}</h1>
        <p style="color: var(--text-gray); font-size: 1.1rem;">{{ description }}</p>

        {# [신규] 맵으로 돌아가기 버튼 #}
        <a href="/" class="back-to-list-btn" style="margin-top: 20px;">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg>
            <span>Back to Map</span>
        </a>
    </div>

    <div class="card-grid">
        {% for item in items %}
        <a href="{{ item.link }}" class="card">
            {# main.py에서 전달된 다양한 썸네일 사용 #}
            <div class="card-img" style="background-image: url('{{ item.thumbnail }}');">
                <span class="card-badge" style="color: var(--primary);">{{ 'Guide' if item.item_type == 'guide' else item.category | capitalize }}</span>
            </div>
            <div class="card-body">
                <h4>{{ item.title or item.basic_info.name_en or item.basic_info.name_ja }}</h4>
                <div class="card-meta">
                    {% if item.item_type != 'guide' %}
                        <svg width="14" height="14" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"></path></svg>
                        <span>{{ item.basic_info.address }}</span>
                    {% else %}
                        <span>{{ item.description | truncate(100) }}</span>
                    {% endif %}
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</main>
{% endblock %}