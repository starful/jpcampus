<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문의하기 - JP Campus</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        .contact-container { max-width: 600px; margin: 60px auto; padding: 0 20px; }
        .contact-box { background: #fff; padding: 40px; border-radius: 12px; box-shadow: 0 2px 15px rgba(0,0,0,0.05); }
        h1 { text-align: center; color: #2c3e50; margin-bottom: 30px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #555; }
        input, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; font-size: 1rem; }
        textarea { height: 150px; resize: vertical; }
        button[type="submit"] {
            width: 100%; background: #3498db; color: white; padding: 15px; border-radius: 8px; font-size: 1.1rem; font-weight: bold; transition: 0.2s;
        }
        button[type="submit"]:hover { background: #2980b9; }
        .loading { display: none; text-align: center; margin-top: 10px; color: #666; }
    </style>
</head>
<body style="background-color: #f9f9f9;">
    <header class="main-header" style="padding: 20px 0;">
        <div class="logo-container">
            <a href="/" class="logo" style="font-size: 1.5rem; font-weight: bold; color: #333; text-decoration: none;">JP Campus</a>
        </div>
    </header>

    <div class="contact-container">
        <div class="contact-box">
            <h1>문의하기</h1>
            <form id="contactForm">
                <div class="form-group">
                    <label>이름</label>
                    <input type="text" name="name" required placeholder="홍길동">
                </div>
                <div class="form-group">
                    <label>이메일</label>
                    <input type="email" name="email" required placeholder="example@email.com">
                </div>
                <div class="form-group">
                    <label>문의 내용</label>
                    <textarea name="message" required placeholder="문의하실 내용을 적어주세요."></textarea>
                </div>
                <button type="submit" id="submitBtn">보내기</button>
                <div id="loadingMsg" class="loading"><i class="fas fa-spinner fa-spin"></i> 전송 중입니다...</div>
            </form>
        </div>
    </div>

    <footer class="main-footer">
        <p class="copyright">© 2024 JP Campus. All rights reserved.</p>
    </footer>

    <!-- FontAwesome (로딩 아이콘용) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycby7KThSknbZkIbngBeRLbPYpPBfi5PIltrjLtOSF-gmMgXDRu1JHy4VNgQN65EoOfRK/exec';
        const form = document.forms['contactForm'];
        const btn = document.getElementById('submitBtn');
        const loading = document.getElementById('loadingMsg');

        form.addEventListener('submit', e => {
            e.preventDefault();
            
            // UI 변경 (로딩 중)
            btn.disabled = true;
            btn.style.opacity = "0.7";
            btn.innerText = "전송 중...";
            loading.style.display = "block";

            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(response => {
                    alert("문의가 성공적으로 전송되었습니다! 확인 후 답변 드리겠습니다.");
                    form.reset();
                    // UI 복구
                    btn.disabled = false;
                    btn.style.opacity = "1";
                    btn.innerText = "보내기";
                    loading.style.display = "none";
                })
                .catch(error => {
                    console.error('Error!', error.message);
                    alert("전송에 실패했습니다. 다시 시도해주세요.");
                    btn.disabled = false;
                    btn.innerText = "보내기";
                    loading.style.display = "none";
                });
        });
    </script>
</body>
</html>