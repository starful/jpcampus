# ğŸ« JP Campus - Japan Study Abroad Platform

JP Campus is a comprehensive, data-driven platform designed to help international students find the perfect Japanese language school or university. It features an interactive map, detailed school insights, and essential guides for living in Japanâ€”all optimized for English-speaking users.

> **Latest Update**: Refactored to an English-first platform with AI-generated guides, SEO optimizations, and AdSense integration.

## âœ¨ Key Features

### ğŸ—ºï¸ Interactive Map Search
*   **Smart Clustering**: Efficiently displays hundreds of schools using `MarkerClusterer`.
*   **Advanced Filtering**: Filter by Tuition, Nationality Ratio, Location, and Course Type.
*   **Performance**: Optimized rendering with Google Maps JavaScript API.

### ğŸ“š Essential Guides & Lists
*   **AI-Generated Guides**: comprehensive articles (Visa, Cost, Housing) generated by **Google Gemini** based on CSV topics.
*   **Dedicated List Views**: Separate SEO-friendly list pages for Language Schools and Universities.
*   **Dynamic Sitemap**: Automatically updates `sitemap.xml` with new guides and schools.

### ğŸš€ Technical Highlights
*   **Hybrid CMS Structure**: Uses Markdown files (`.md`) as a flat-file database for easy management and Git versioning.
*   **SEO Optimized**: Dynamic `Title`, `Description`, and `Open Graph` images for every page.
*   **FastAPI Backend**: High-performance asynchronous server.
*   **Automated Pipelines**: Data collection and content enhancement scripts using LLMs.

## ğŸ› ï¸ Tech Stack

*   **Backend**: Python 3.11, FastAPI, Uvicorn
*   **Frontend**: HTML5, CSS3, Jinja2 Templates, Vanilla JS
*   **Map & Data**: Google Maps JavaScript API, MarkerClusterer
*   **AI & Automation**: Google Gemini 2.0 Flash (Content Generation)
*   **Infrastructure**: Google Cloud Platform (Cloud Run, Cloud Build)

## ğŸ“‚ Project Structure

```text
jpcampus/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py                 # FastAPI Entry Point & Routes
â”‚   â”œâ”€â”€ content/                # Data Store: Markdown files (school_*, univ_*, guide_*)
â”‚   â”œâ”€â”€ static/                 # CSS, JS, and Images
â”‚   â”‚   â””â”€â”€ json/               # Compiled data for map (schools_data.json)
â”‚   â””â”€â”€ templates/              # Jinja2 HTML Templates
â”‚       â”œâ”€â”€ index.html          # Main Map View
â”‚       â”œâ”€â”€ detail.html         # School/Univ Detail View
â”‚       â”œâ”€â”€ guide_list.html     # Guide List View
â”‚       â””â”€â”€ ...
â”œâ”€â”€ scripts/                    # Automation Scripts
â”‚   â”œâ”€â”€ file/                   # Source CSVs (univ_list.csv, guide_topics.csv)
â”‚   â”œâ”€â”€ collect_universities.py # Fetches Univ data via Gemini
â”‚   â”œâ”€â”€ update_school_content.py# Enhances School descriptions via Gemini
â”‚   â””â”€â”€ generate_ai_guides.py   # Generates Guide articles from CSV
â”œâ”€â”€ build_data.py               # Compiles MD files to JSON (Run during build)
â”œâ”€â”€ Dockerfile                  # Container Config
â””â”€â”€ cloudbuild.yaml             # CI/CD Config
```

## ğŸš€ Installation & Usage

### 1. Prerequisites
*   Python 3.11+
*   Google Cloud Platform Account
*   **API Keys**: `GEMINI_API_KEY`, `GOOGLE_MAPS_API_KEY`

### 2. Clone & Install
```bash
git clone https://github.com/your-username/jpcampus.git
cd jpcampus
pip install -r requirements.txt
```

### 3. Setup Environment Variables
Create a `.env` file:
```ini
GEMINI_API_KEY=your_gemini_api_key
GOOGLE_MAPS_API_KEY=your_maps_api_key
```

### 4. Data Generation (Optional)
To generate new guides or update school data:
```bash
# Generate guides from CSV
python scripts/generate_ai_guides.py

# Update school descriptions
python scripts/update_school_content.py
```

### 5. Build Data & Run Server
The `build_data.py` script compiles all Markdown content into a JSON file for the map.
```bash
# Build JSON data
python build_data.py

# Start Server
uvicorn app.main:app --reload
```
Visit: `http://127.0.0.1:8000`

## â˜ï¸ Deployment

This project is configured for **Google Cloud Run**.

```bash
gcloud builds submit --config=cloudbuild.yaml \
  --substitutions=_GOOGLE_MAPS_API_KEY="your_key"
```

## ğŸ“ License
This project is licensed under the MIT License.